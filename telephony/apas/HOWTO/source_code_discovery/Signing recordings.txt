==================
Signing recordings
==================
- Configuration
- Message: "You use the default certificate. Please create a new certificate"


----------------------------------------------------------------------------------------------------------------
Configuration
=============
- Create certificate for Recorder:

	Global/Security/[Certificate List]/(Create APAS Certificate)
	
		- fill fields
		- choose type:	Recorder
		
	To sign certificate by a CA:
		- at the end of creation Download CSR
		- sign it by CA
		- import:
		
			Global/Security/[Certificate List]/(Import APAS Certificate)
			- choose type:	Recorder
	
	
- Activate signing:

	Recorder/Certificate/[Configuration]
	
		- There is a dropdown which contains Recorder Certificates
		- Choose a certificate by alias from dropdown
		- Set 'Digitally sign recordings' checkbox
		- [Current Certificate] contains selected 
		

- Configuration page:

	- Config(recorder/CertificateAlias)
	- Config(recorder/SignRecordings)
	
	com.andtek.andphone.recorder.gwtapp.client.cert_gwtappMain
		--> onModuleLoad()
			--> RemoteGetCertificateList()
				--> RPCrecorderServiceImpl.RPCServletService.RemoteGetCertificateList()			// getting rec rects
				--> RPCrecorderServiceImpl.RemoteGetCertificate(APAS_MODULE, new AsyncCallback() // getting current certificagte ======> record
					- getting cert alias from Config(recorder/CertificateAlias)
					--> ApasCertificateHelper.getCertFromKeystore("", "/var/lib/andphone/certificate.store", "pkcs12", alias, password)			// loading cert by alias
						- loading keystore into memory
						- getting cert chain by alias
						
					- getting boolean about signing from Config(recorder/SignRecordings)
					
				--> buildMainScreen(record)
					--> buildCreateCertificatePanel(record, ...)
						--> addCurrentCertificateFieldset()

				
		
-----------------------------------------------------------------------------------------------------------------------------------
Message: "You use the default certificate. Please create a new certificate"
===========================================================================
What does it mean?

It displayed on recording-related GWT pages if Config(recorder/ValidCertificate) is false.

There is 2 independent implementation to show and use it :((((((((((((

1. com.andtek.andphone.recorder.Admin
read:

	--> Admin.checkEnvironment(...)
	
write:
	--> Admin.cert_gwtupload(ConnectionBean connection)
	
2. com.andtek.andphone.recorder.gwtapp.server.RPCrecorderServiceImpl.RPCrecorderServiceImpl
read:

	--> RPCrecorderServiceImpl.checkEnvironment(JTAPIThread jtapi, HttpServletRequest request, String apas_module)
		
write:

	--> RPCrecorderServiceImpl.RemoteCreateCertificate(CertificateDataBean record, String APAS_MODULE)
	
	--> RPCrecorderServiceImpl.RemoteSaveCertificateConfig()
	
	